<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.12.2 (455489)"/><meta name="altitude" content="45.25467300415039"/><meta name="author" content="nswbmw"/><meta name="created" content="2017-11-16 10:41:51 +0000"/><meta name="latitude" content="39.95984440865417"/><meta name="longitude" content="116.4553710741585"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-11-18 10:30:42 +0000"/><title>第七天</title></head><body style="zoom: 1.5;"><div>第七天</div><ol><li>实战：从零搭建一个博客</li><ol><li>留言</li><li>404与错误页面</li><li>日志</li><li>测试</li><li>扩展训练</li></ol></ol><div><br/></div><div><br/></div><div>4.10 留言</div><div><ol><li>联合索引创建规则：第一项是精确（或范围）查找的字段，第二项是排序用，第三项式过滤用（请深入查阅）</li><li>所有集合默认会有一个{ _id: 1 } 的索引</li><li>.populate 用法，参考 mongoose 的文档</li><li>model插件和全局插件的区别参考知乎文章《从零开始写一个 MongoDB 驱动库》</li><li>设计一个功能（比如留言）2和3可互换</li><ol><li>设计数据库（有哪些字段，字段类型是什么）</li><li>设计页面/模板，需要用到哪些值，如：comments.ejs需要用到 comments 数组</li><li>设计 models/xxx.js，即操作数据库的函数，通常是按功能挨个写</li><li>修改代码+调试。</li></ol><li>markdown: <a href="http://wowubuntu.com/markdown/">http://wowubuntu.com/markdown/</a></li><li>git 相关知识+.gitignore</li><li>测试框架：mocha+supertest，其他的断言库还有 chai+should+expect。新兴的 ava</li><li>module.parent：当被require的时候存在，执行执行这个文件的时候是null</li><li>mocha: describe（形容一组测试）、it（具体的测试用例）、before（当前describe下所有it测试用例前执行）、after（所有it后）、beforeEach（每个it测试用例前执行）、afterEach（每个it后）</li><ol><li>describe.only，it.only 只测试当前测试用例，it.skip，describe.skip 用来跳过</li></ol><li>supertest用法+agent(保持cookie的)，平常用法就是 supertest(app).xxx</li></ol><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>